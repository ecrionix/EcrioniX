<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXZS8C1FLY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XXZS8C1FLY');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trigonometry Visualizer - EcrioniX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Outfit', sans-serif; background-color: #020617; color: #f8fafc; }
        .brand-font { font-family: 'Orbitron', sans-serif; }
        
        /* Watermark */
        .watermark {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-30deg);
            font-size: 8rem;
            font-weight: 900;
            color: rgba(59, 130, 246, 0.03); /* Blue tint */
            pointer-events: none;
            user-select: none;
            white-space: nowrap;
            z-index: 0;
        }

        /* Glassmorphism Panels */
        .glass-panel {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.1);
        }

        /* Canvas */
        #unit-circle-canvas {
            background-color: #0f172a;
            border-radius: 12px;
            box-shadow: inset 0 0 30px #000;
        }

        /* Range Slider */
        input[type=range] { accent-color: #3b82f6; }
    </style>
</head>
<body class="relative min-h-screen flex flex-col">

    <div class="watermark">EcrioniX</div>
    
    <!-- Navbar -->
    <nav class="sticky top-0 z-50 border-b border-slate-800 bg-slate-950/80 backdrop-blur-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <span class="brand-font text-2xl font-bold text-white tracking-wider">Ecrioni<span class="text-blue-500">X</span></span>
                    <span class="ml-4 px-2 py-1 bg-blue-500/10 text-blue-400 text-xs rounded border border-blue-500/20">TRIGONOMETRY</span>
                </div>
                <a href="mathematics.html" class="text-sm text-slate-400 hover:text-white transition flex items-center">
                    <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
                    Back to Math
                </a>
            </div>
        </div>
    </nav>

    <!-- Content -->
    <main class="flex-grow pt-8 pb-20 relative z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            
            <!-- Header -->
            <div class="mb-8 border-b border-slate-800 pb-4">
                <h1 class="text-3xl font-bold text-white brand-font">Interactive Trigonometry</h1>
                <p class="text-slate-400 mt-1">Visualize Sine, Cosine, and Tangent on the Unit Circle.</p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
                
                <!-- LEFT: Unit Circle & Controls -->
                <div class="lg:col-span-7 space-y-6">
                    
                    <div class="glass-panel rounded-xl p-4 flex flex-col items-center">
                        <canvas id="unit-circle-canvas" width="500" height="500" class="w-full max-w-[500px] aspect-square"></canvas>
                        
                        <!-- Controls -->
                        <div class="w-full mt-6 px-4">
                            <div class="flex justify-between items-end mb-2">
                                <label class="text-sm font-bold text-slate-300">Angle (θ)</label>
                                <span id="angle-val" class="text-2xl font-mono text-white font-bold">45°</span>
                            </div>
                            <input type="range" id="slider-angle" min="0" max="360" step="1" value="45" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer">
                            <div class="flex justify-between text-xs text-slate-500 mt-1 font-mono">
                                <span>0°</span>
                                <span>90°</span>
                                <span>180°</span>
                                <span>270°</span>
                                <span>360°</span>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- RIGHT: Values & Theory -->
                <div class="lg:col-span-5 space-y-6">
                    
                    <!-- Dynamic Values -->
                    <div class="glass-panel rounded-xl p-6">
                        <h3 class="text-sm font-bold text-white mb-4 uppercase tracking-wider">Current Values</h3>
                        <div class="space-y-4 font-mono">
                            <!-- Sin -->
                            <div class="flex items-center justify-between p-3 bg-slate-900/50 rounded border border-slate-700">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-red-500 rounded-full mr-3"></div>
                                    <span class="text-red-400 font-bold">sin(θ)</span>
                                </div>
                                <span id="val-sin" class="text-white text-xl">0.707</span>
                            </div>
                            <!-- Cos -->
                            <div class="flex items-center justify-between p-3 bg-slate-900/50 rounded border border-slate-700">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-blue-500 rounded-full mr-3"></div>
                                    <span class="text-blue-400 font-bold">cos(θ)</span>
                                </div>
                                <span id="val-cos" class="text-white text-xl">0.707</span>
                            </div>
                            <!-- Tan -->
                            <div class="flex items-center justify-between p-3 bg-slate-900/50 rounded border border-slate-700">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-green-500 rounded-full mr-3"></div>
                                    <span class="text-green-400 font-bold">tan(θ)</span>
                                </div>
                                <span id="val-tan" class="text-white text-xl">1.000</span>
                            </div>
                        </div>
                    </div>

                    <!-- Definitions -->
                    <div class="glass-panel rounded-xl p-6">
                        <h3 class="text-lg font-bold text-white mb-3">Definitions (SOH CAH TOA)</h3>
                        <div class="space-y-4 text-sm text-slate-400">
                            <p>
                                <strong class="text-red-400">SINE (sin)</strong> = <span class="text-white font-mono bg-slate-800 px-1 rounded">Opposite / Hypotenuse</span><br>
                                In the unit circle (radius=1), this is the <strong class="text-white">y-coordinate</strong>.
                            </p>
                            <p>
                                <strong class="text-blue-400">COSINE (cos)</strong> = <span class="text-white font-mono bg-slate-800 px-1 rounded">Adjacent / Hypotenuse</span><br>
                                In the unit circle, this is the <strong class="text-white">x-coordinate</strong>.
                            </p>
                            <p>
                                <strong class="text-green-400">TANGENT (tan)</strong> = <span class="text-white font-mono bg-slate-800 px-1 rounded">Opposite / Adjacent</span><br>
                                This represents the <strong class="text-white">slope</strong> of the line.
                            </p>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Problem Solver Section -->
            <div class="mt-12 pt-12 border-t border-slate-800">
                <h2 class="text-2xl font-bold text-white mb-6 flex items-center">
                    <span class="bg-blue-600 w-2 h-8 mr-3 rounded-full"></span>
                    Practical Problem: Height of a Building
                </h2>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    
                    <!-- Problem Input -->
                    <div class="glass-panel rounded-xl p-8">
                        <p class="text-slate-400 mb-6">
                            You are standing <span class="text-white font-bold">d</span> meters away from a building. You look up at the top with an angle of elevation <span class="text-white font-bold">θ</span>. How tall is the building?
                        </p>

                        <div class="space-y-4">
                            <div>
                                <label class="text-xs text-slate-500 font-bold uppercase">Distance (d)</label>
                                <input type="number" id="prob-dist" value="50" class="w-full bg-slate-900 border border-slate-700 text-white p-3 rounded-lg focus:border-blue-500 outline-none" oninput="solveProblem()">
                            </div>
                            <div>
                                <label class="text-xs text-slate-500 font-bold uppercase">Angle (θ) in Degrees</label>
                                <input type="number" id="prob-angle" value="30" class="w-full bg-slate-900 border border-slate-700 text-white p-3 rounded-lg focus:border-blue-500 outline-none" oninput="solveProblem()">
                            </div>
                        </div>

                        <div class="mt-6 p-4 bg-blue-900/20 border border-blue-500/30 rounded-lg">
                            <div class="text-xs text-blue-400 font-bold uppercase mb-1">Calculated Height</div>
                            <div class="text-3xl text-white font-mono font-bold"><span id="prob-result">0.00</span> m</div>
                            <div class="text-xs text-slate-500 mt-2 font-mono">Formula: h = d × tan(θ)</div>
                        </div>
                    </div>

                    <!-- Problem Visual -->
                    <div class="glass-panel rounded-xl p-4 relative flex items-end justify-center overflow-hidden bg-slate-900">
                        <!-- Building -->
                        <div class="absolute bottom-10 right-20 w-32 bg-slate-700 border border-slate-600 rounded-t-lg flex flex-col items-center justify-end" id="visual-building" style="height: 100px; transition: height 0.3s;">
                            <div class="w-full h-full grid grid-cols-3 gap-1 p-2 opacity-50">
                                <div class="bg-slate-800 h-4 w-4"></div><div class="bg-slate-800 h-4 w-4"></div><div class="bg-slate-800 h-4 w-4"></div>
                                <div class="bg-slate-800 h-4 w-4"></div><div class="bg-slate-800 h-4 w-4"></div><div class="bg-slate-800 h-4 w-4"></div>
                            </div>
                            <span class="text-xs text-white mb-2 font-bold">Building</span>
                        </div>
                        
                        <!-- Ground -->
                        <div class="absolute bottom-0 w-full h-10 bg-slate-800 border-t border-slate-600"></div>

                        <!-- Observer -->
                        <div class="absolute bottom-10 left-20 w-4 h-12 bg-blue-500 rounded-t-full"></div>
                        <div class="absolute bottom-22 left-20 text-[10px] text-blue-300 -translate-x-2">You</div>

                        <!-- Line of Sight (Canvas overlay) -->
                        <canvas id="problem-canvas" width="600" height="400" class="absolute inset-0 pointer-events-none"></canvas>
                    </div>

                </div>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="mt-auto border-t border-slate-800 bg-slate-950 py-8 text-center relative z-10">
        <p class="text-slate-600 text-sm">
            &copy; 2026 EcrioniX Labs. Owned by <span class="text-blue-400">Elangovan</span>.
        </p>
    </footer>

    <script>
        // --- Unit Circle Logic ---
        const canvas = document.getElementById('unit-circle-canvas');
        const ctx = canvas.getContext('2d');
        const slider = document.getElementById('slider-angle');
        const angleDisplay = document.getElementById('angle-val');
        
        const valSin = document.getElementById('val-sin');
        const valCos = document.getElementById('val-cos');
        const valTan = document.getElementById('val-tan');

        const centerX = 250;
        const centerY = 250;
        const radius = 180;

        function toRad(deg) { return deg * (Math.PI / 180); }

        function drawUnitCircle() {
            const angleDeg = parseFloat(slider.value);
            const angleRad = toRad(angleDeg);
            
            // Clear
            ctx.clearRect(0, 0, 500, 500);

            // 1. Draw Grid
            ctx.strokeStyle = '#1e293b';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(centerX, 0); ctx.lineTo(centerX, 500); // Y-axis
            ctx.moveTo(0, centerY); ctx.lineTo(500, centerY); // X-axis
            ctx.stroke();

            // 2. Draw Circle
            ctx.strokeStyle = '#475569';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
            ctx.stroke();

            // Calculate Triangle Point
            // Note: Canvas Y is inverted (down is positive). We need (centerX + x, centerY - y)
            const x = Math.cos(angleRad) * radius;
            const y = Math.sin(angleRad) * radius;
            
            const px = centerX + x;
            const py = centerY - y;

            // 3. Draw Triangle
            // Base (Adjacent / Cosine) - Blue
            ctx.strokeStyle = '#3b82f6';
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(px, centerY);
            ctx.stroke();

            // Height (Opposite / Sine) - Red
            ctx.strokeStyle = '#ef4444';
            ctx.beginPath();
            ctx.moveTo(px, centerY);
            ctx.lineTo(px, py);
            ctx.stroke();

            // Hypotenuse (Radius) - White
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(px, py);
            ctx.stroke();

            // Angle Arc
            ctx.strokeStyle = '#fbbf24';
            ctx.lineWidth = 2;
            ctx.beginPath();
            // Arc needs counter-clockwise true because Y is flipped logic
            ctx.arc(centerX, centerY, 40, 0, -angleRad, true); 
            ctx.stroke();

            // Text Labels
            ctx.font = "14px monospace";
            ctx.fillStyle = "#ef4444";
            ctx.fillText("sin", px + 5, centerY - (y/2));
            
            ctx.fillStyle = "#3b82f6";
            ctx.fillText("cos", centerX + (x/2) - 10, centerY + 20);

            // Update Values Panel
            angleDisplay.innerText = angleDeg + "°";
            
            let s = Math.sin(angleRad);
            let c = Math.cos(angleRad);
            let t = Math.tan(angleRad);

            // Fix float precision errors for clean display
            if(Math.abs(s) < 1e-10) s = 0;
            if(Math.abs(c) < 1e-10) c = 0;
            if(Math.abs(t) > 100) t = "∞"; // Infinite tan

            valSin.innerText = s.toFixed(3);
            valCos.innerText = c.toFixed(3);
            valTan.innerText = (typeof t === 'string') ? t : t.toFixed(3);
        }

        slider.addEventListener('input', drawUnitCircle);
        
        // --- Problem Solver Logic ---
        const probDist = document.getElementById('prob-dist');
        const probAngle = document.getElementById('prob-angle');
        const probResult = document.getElementById('prob-result');
        const visualBuilding = document.getElementById('visual-building');
        const pCanvas = document.getElementById('problem-canvas');
        const pCtx = pCanvas.getContext('2d');

        function solveProblem() {
            const d = parseFloat(probDist.value);
            const deg = parseFloat(probAngle.value);
            
            if (deg >= 90 || deg <= 0) {
                probResult.innerText = "Invalid Angle";
                return;
            }

            const rad = toRad(deg);
            const h = d * Math.tan(rad);
            
            probResult.innerText = h.toFixed(2);

            // Update Visuals
            // We scale the visual representation to fit the box
            // Observer at (Left: 20px, Bottom: 50px of panel) -> (Canvas 100, 350)
            // Building at (Right: 20px) -> (Canvas 500, 350)
            
            pCtx.clearRect(0,0, 600, 400);
            
            // Adjust CSS Height of building div (Max 300px visual)
            // Let's create a visual scale factor. Assume max visual height = 20m?
            // Just map ratio h/d visually.
            
            // Draw Line of Sight
            const startX = 100; // Observer visual center X (approx relative to canvas)
            const startY = 350; // Eye level approx (canvas coords)
            
            const buildingX = 450;
            const distPx = buildingX - startX; // Visual distance
            
            // Calculate visual height based on angle
            // tan(theta) = opp / adj -> opp = adj * tan(theta)
            const heightPx = distPx * Math.tan(rad);
            
            // Cap height for canvas
            const endY = Math.max(50, startY - heightPx);

            // Draw Line
            pCtx.strokeStyle = '#fbbf24'; // Amber line
            pCtx.lineWidth = 2;
            pCtx.setLineDash([5, 5]);
            pCtx.beginPath();
            pCtx.moveTo(startX, startY); // Eye
            pCtx.lineTo(buildingX, endY); // Top of building
            pCtx.stroke();
            
            // Draw Angle Arc
            pCtx.setLineDash([]);
            pCtx.beginPath();
            pCtx.arc(startX, startY, 50, 0, -rad, true);
            pCtx.stroke();
            
            pCtx.fillStyle = '#fbbf24';
            pCtx.font = "12px monospace";
            pCtx.fillText(deg + "°", startX + 60, startY - 10);

            // Update CSS building height to match line
            // Building bottom is fixed by CSS, we change height
            const visualH = startY - endY; // Pixels from eye level up
            // Add base height (eye level to ground ~ 50px)
            visualBuilding.style.height = (visualH + 40) + 'px'; 
        }

        // Init
        drawUnitCircle();
        solveProblem();

    </script>
</body>
</html>
