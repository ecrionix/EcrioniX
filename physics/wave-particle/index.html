<!DOCTYPE html>
<html lang="en">
<head>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6672302762343789"
     crossorigin="anonymous"></script>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXZS8C1FLY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XXZS8C1FLY');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wave-Particle Duality - EcrioniX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Orbitron:wght@500;700&family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- MathJax -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body { font-family: 'Outfit', sans-serif; background-color: #020617; color: #f8fafc; overflow: hidden; }
        .tech-font { font-family: 'Orbitron', sans-serif; }
        .read-font { font-family: 'Merriweather', serif; }

        /* Mobile Scroll */
        @media (max-width: 1024px) { body { overflow-y: auto; } }

        .watermark {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-30deg);
            font-size: 8rem; font-weight: 900; color: rgba(124, 58, 237, 0.03); /* Violet tint */
            pointer-events: none; user-select: none; z-index: 0;
        }

        .glass-panel {
            background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px;
        }

        /* Tabs */
        .tab-btn {
            @apply px-4 py-2 text-xs font-bold rounded-lg transition-all border border-transparent text-slate-400 uppercase tracking-wider;
        }
        .tab-active {
            @apply bg-violet-600 text-white border-violet-500 shadow-lg shadow-violet-500/30;
        }

        /* Simulation Canvas */
        #sim-canvas {
            background-color: #0f172a;
            border-radius: 12px;
            width: 100%; height: 100%;
        }

        /* Theory Typography */
        .prose h1 { @apply text-3xl font-bold text-white mb-6 tech-font border-b border-slate-800 pb-2; }
        .prose h2 { @apply text-xl font-bold text-violet-400 mt-10 mb-4 uppercase tracking-wider; }
        .prose h3 { @apply text-lg font-bold text-emerald-400 mt-6 mb-2; }
        .prose p { @apply text-slate-300 mb-4 leading-relaxed text-sm md:text-base font-light; }
        .prose strong { @apply text-white font-bold; }
        .prose ul { @apply list-disc list-inside space-y-2 text-slate-400 mb-4 ml-4; }
        .prose .highlight-box { @apply bg-slate-900/50 border-l-4 border-violet-500 p-6 my-8 rounded-r-lg shadow-lg; }
        .prose .highlight-box p { @apply text-slate-200 m-0; }

        input[type=range] { accent-color: #7c3aed; }
        
        /* Particle Styles */
        .particle {
            box-shadow: 0 0 5px currentColor;
        }

        .hidden { display: none !important; }
    </style>
</head>
<body class="h-screen w-screen flex flex-col relative">

    <div class="watermark">EcrioniX Quantum</div>

    <!-- Header -->
    <nav class="border-b border-slate-800 bg-slate-900/80 px-4 md:px-6 py-3 md:py-4 flex justify-between items-center z-20 sticky top-0 backdrop-blur-md">
        <div>
            <h1 class="text-xl md:text-2xl font-bold text-violet-400 tech-font uppercase">WAVE-PARTICLE <span class="text-white">DUALITY</span></h1>
            <p class="text-[9px] md:text-[10px] text-slate-500 uppercase tracking-widest font-bold hidden md:block">Quantum Mechanics & The Double Slit</p>
        </div>
        
        <div class="flex bg-slate-950 p-1 rounded-xl border border-slate-800">
            <button onclick="switchView('theory')" id="btn-theory" class="tab-btn tab-active">Theory Guide</button>
            <button onclick="switchView('lab')" id="btn-lab" class="tab-btn">Quantum Lab</button>
        </div>

        <button onclick="window.history.back()" class="group flex items-center text-slate-400 hover:text-white transition bg-slate-800/80 px-3 py-2 rounded-lg border border-slate-700 hover:border-violet-500 ml-2">
            <span class="text-xs font-bold uppercase hidden md:inline">Exit Lab</span>
            <span class="text-xs font-bold uppercase md:hidden">Exit</span>
        </button>
    </nav>

    <!-- Content -->
    <div class="flex-grow relative overflow-y-auto lg:overflow-hidden">

        <!-- THEORY VIEW -->
        <div id="view-theory" class="absolute inset-0 z-10 overflow-y-auto custom-scroll p-4 md:p-8 flex justify-center">
            <div class="max-w-4xl w-full glass-panel p-6 md:p-10 prose mb-10 read-font">
                <h1>The Quantum Enigma</h1>
                <p>
                    For centuries, physicists argued about the nature of light. Is it a stream of tiny particles, or is it a rippling wave? The answer, unveiled in the early 20th century, shattered our intuitive understanding of reality: **It is both.**
                </p>

                <h2>1. The Great Debate</h2>
                <h3>Newton vs. Huygens</h3>
                <p>
                    In the 17th century, **Isaac Newton** argued that light consists of particles, which he called "corpuscles." This explained reflection and straight-line travel (shadows). However, **Christiaan Huygens** proposed that light acts like a wave, similar to ripples in water. This explained refraction and diffraction, but Newton's reputation dominated the field for over a century.
                </p>

                <h2>2. The Wave Victory (1801)</h2>
                <p>
                    **Thomas Young** performed the famous **Double-Slit Experiment**. He shone light through two narrow parallel slits. If light were particles, one would expect two bright lines on the screen behind the slits. Instead, Young saw a series of bright and dark bandsâ€”an **Interference Pattern**.
                </p>
                <div class="highlight-box">
                    <p><strong>Interference:</strong> Just as two water waves can overlap to create a larger wave (constructive) or cancel each other out (destructive), light waves passing through two slits interfere with each other, proving light behaves as a wave.</p>
                </div>

                <h2>3. The Particle Strike Back (1905)</h2>
                <p>
                    The wave theory seemed perfect until the **Photoelectric Effect** puzzled scientists. Light hitting metal could knock electrons off, but only if the frequency (color) was high enough, regardless of intensity (brightness).
                </p>
                <p>
                    **Albert Einstein** solved this by proposing that light energy is quantized. It comes in discrete packets called **Photons**. This won him the Nobel Prize and proved light also acts like a particle.
                </p>

                <h2>4. De Broglie & Matter Waves</h2>
                <p>
                    In 1924, **Louis de Broglie** asked a radical question: If light waves can act like particles, can matter particles (like electrons) act like waves? He proposed the De Broglie wavelength:
                </p>
                <p class="text-center py-4 text-xl">\[ \lambda = \frac{h}{p} = \frac{h}{mv} \]</p>
                <p>
                    Where \( h \) is Planck's constant and \( p \) is momentum. This means *everything*, even a baseball, has a wavelength (though too small to detect). For electrons, however, this wavelength is significant.
                </p>

                <h2>5. The Quantum Double-Slit</h2>
                <p>
                    When we fire electrons (particles) through a double slit one by one, we expect two bands. Shockingly, even single electrons build up an **interference pattern** over time.
                </p>
                <p>
                    **The Paradox:** Each electron goes through *both* slits simultaneously as a wave of probability, interferes with itself, and then "collapses" into a single point on the detector screen.
                </p>
                
                <h2>6. The Observer Effect</h2>
                <p>
                    If we place a detector at the slits to see which one the electron actually goes through, the interference pattern disappears! The act of measurement collapses the wavefunction, and the electrons behave like simple particles again. This reveals the fundamental weirdness of the quantum world: reality changes depending on how we look at it.
                </p>

                <div class="mt-12 text-center pb-8">
                    <button onclick="switchView('lab')" class="bg-violet-600 hover:bg-violet-500 text-white px-8 py-3 rounded-xl font-bold transition shadow-lg shadow-violet-500/20 font-sans">Enter Quantum Lab &rarr;</button>
                </div>
            </div>
        </div>

        <!-- LAB VIEW -->
        <div id="view-lab" class="absolute inset-0 z-0 opacity-0 pointer-events-none flex flex-col lg:flex-row p-4 lg:p-6 gap-6 overflow-y-auto lg:overflow-hidden">
            
            <!-- Left: Controls -->
            <div class="w-full lg:w-80 flex flex-col gap-4 flex-shrink-0">
                <div class="glass-panel p-6">
                    <h2 class="text-violet-400 font-bold mb-4 uppercase text-[10px] tracking-widest">Experimental Setup</h2>
                    
                    <div class="space-y-6">
                        <!-- Mode Select -->
                        <div>
                            <span class="text-xs text-slate-300 font-bold block mb-2">Matter State</span>
                            <div class="grid grid-cols-3 gap-1">
                                <button onclick="setMode('PARTICLE')" id="btn-particle" class="py-2 bg-slate-800 text-slate-400 rounded-l border border-slate-700 text-[10px] font-bold transition hover:text-white">CLASSICAL</button>
                                <button onclick="setMode('WAVE')" id="btn-wave" class="py-2 bg-slate-800 text-slate-400 border-y border-slate-700 text-[10px] font-bold transition hover:text-white">PURE WAVE</button>
                                <button onclick="setMode('QUANTUM')" id="btn-quantum" class="py-2 bg-violet-600 text-white rounded-r border border-violet-500 text-[10px] font-bold transition shadow">QUANTUM</button>
                            </div>
                        </div>

                        <!-- Observer Toggle -->
                        <div class="flex items-center justify-between bg-slate-900 p-3 rounded-lg border border-slate-700">
                             <div class="flex flex-col">
                                 <span class="text-xs text-slate-300 font-bold">Observer (Detector)</span>
                                 <span class="text-[9px] text-slate-500">Collapses Wavefunction</span>
                             </div>
                             <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="check-observer" class="sr-only peer" onchange="toggleObserver()">
                                <div class="w-9 h-5 bg-slate-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-red-500"></div>
                            </label>
                        </div>

                        <!-- Slit Width -->
                        <div>
                            <div class="flex justify-between text-xs mb-2">
                                <span class="text-slate-300">Slit Separation</span>
                                <span id="val-sep" class="font-mono text-white font-bold">Medium</span>
                            </div>
                            <input type="range" id="slider-sep" min="40" max="150" step="10" value="80" class="w-full">
                        </div>

                        <button onclick="resetLab()" class="w-full py-2 text-xs font-bold text-red-400 border border-red-900/30 rounded hover:bg-red-900/10">CLEAR DETECTOR</button>
                    </div>
                </div>

                <!-- Analysis -->
                <div class="glass-panel p-6 flex-grow flex flex-col">
                    <h2 class="text-emerald-400 font-bold mb-2 uppercase text-[10px] tracking-widest">Detection Screen (Intensity)</h2>
                    <div class="flex-grow mt-2 relative bg-black/40 rounded border border-slate-800">
                         <canvas id="graph-canvas"></canvas>
                    </div>
                    <p id="result-text" class="text-center text-[10px] text-slate-400 mt-2 font-mono">Pattern: <span class="text-white font-bold">Interference (Wave)</span></p>
                </div>
            </div>

            <!-- Right: Visualization -->
            <div class="flex-grow flex flex-col gap-6 min-h-[500px] lg:min-h-0">
                <div class="glass-panel p-1 relative flex-grow overflow-hidden flex flex-col bg-slate-900/50">
                    <div class="absolute top-4 left-4 z-10 px-3 py-1 bg-black/60 rounded text-[10px] text-slate-400 border border-slate-700 font-bold uppercase tracking-widest">
                        Experiment Chamber
                    </div>
                    
                    <div id="canvas-container" class="w-full h-full relative cursor-crosshair">
                        <canvas id="sim-canvas"></canvas>
                        
                        <!-- Overlay Elements -->
                        <!-- Gun -->
                        <div class="absolute top-1/2 left-4 -translate-y-1/2 w-8 h-16 bg-slate-700 border-2 border-slate-500 rounded-r-lg flex items-center justify-center">
                            <div class="w-2 h-10 bg-black rounded-full animate-pulse"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- State ---
        let mode = 'QUANTUM'; // PARTICLE, WAVE, QUANTUM
        let observerOn = false;
        let slitSep = 80;
        let particles = [];
        let waves = [];
        let intensityBins = [];
        const BIN_COUNT = 100;
        
        // Canvas
        const simCanvas = document.getElementById('sim-canvas');
        const sCtx = simCanvas.getContext('2d');
        const graphCanvas = document.getElementById('graph-canvas');
        const gCtx = graphCanvas.getContext('2d');

        // Dimensions
        let simWidth, simHeight;
        let barrierX = 0;

        // --- Initialization ---
        function resize() {
            if(simCanvas.parentElement) {
                simWidth = simCanvas.parentElement.clientWidth;
                simHeight = simCanvas.parentElement.clientHeight;
                simCanvas.width = simWidth;
                simCanvas.height = simHeight;
                
                graphCanvas.width = graphCanvas.parentElement.clientWidth;
                graphCanvas.height = graphCanvas.parentElement.clientHeight;

                barrierX = simWidth * 0.4; // Barrier at 40% width
                resetLab();
            }
        }
        window.addEventListener('resize', resize);

        function switchView(v) {
            const theory = document.getElementById('view-theory');
            const lab = document.getElementById('view-lab');
            const btnT = document.getElementById('btn-theory');
            const btnL = document.getElementById('btn-lab');

            if (v === 'theory') {
                theory.classList.remove('opacity-0', 'pointer-events-none'); theory.classList.add('z-10');
                lab.classList.add('opacity-0', 'pointer-events-none'); lab.classList.remove('z-10');
                btnT.classList.add('tab-active'); btnL.classList.remove('tab-active');
            } else {
                lab.classList.remove('opacity-0', 'pointer-events-none'); lab.classList.add('z-10');
                theory.classList.add('opacity-0', 'pointer-events-none'); theory.classList.remove('z-10');
                btnL.classList.add('tab-active'); btnT.classList.remove('tab-active');
                resize();
            }
        }

        function setMode(m) {
            mode = m;
            ['PARTICLE','WAVE','QUANTUM'].forEach(id => {
                const btn = document.getElementById(`btn-${id.toLowerCase()}`);
                if(id === m) {
                    btn.className = "py-2 bg-violet-600 text-white rounded border border-violet-500 text-[10px] font-bold transition shadow";
                    // Corner rounding logic for tabs visual
                    if(id==='PARTICLE') btn.classList.add('rounded-l');
                    if(id==='QUANTUM') btn.classList.add('rounded-r');
                } else {
                    btn.className = "py-2 bg-slate-800 text-slate-400 border-y border-slate-700 text-[10px] font-bold transition hover:text-white";
                    if(id==='PARTICLE') { btn.classList.add('rounded-l'); btn.classList.add('border-l'); }
                    if(id==='QUANTUM') { btn.classList.add('rounded-r'); btn.classList.add('border-r'); }
                }
            });
            resetLab();
        }

        document.getElementById('slider-sep').addEventListener('input', (e) => {
            slitSep = parseInt(e.target.value);
        });

        function toggleObserver() {
            observerOn = document.getElementById('check-observer').checked;
            resetLab(); // Clear screen to show new pattern
        }

        function resetLab() {
            particles = [];
            waves = [];
            intensityBins = new Array(BIN_COUNT).fill(0);
            updateResultText();
        }

        function updateResultText() {
            const txt = document.getElementById('result-text');
            if (mode === 'PARTICLE' || (mode === 'QUANTUM' && observerOn)) {
                txt.innerHTML = `Pattern: <span class="text-orange-400 font-bold">Two Bands (Particle)</span>`;
            } else {
                txt.innerHTML = `Pattern: <span class="text-violet-400 font-bold">Interference (Wave)</span>`;
            }
        }

        // --- Physics Logic ---
        const slitWidth = 20;

        function fireParticle() {
            // Spawn point
            const y = simHeight/2 + (Math.random()-0.5)*10;
            particles.push({
                x: 40, y: y,
                vx: 5, vy: (Math.random()-0.5)*0.5,
                phase: 'source', // source -> transit -> screen
                color: mode === 'PARTICLE' ? '#facc15' : '#a78bfa',
                size: mode === 'PARTICLE' ? 3 : 2
            });
        }

        function spawnWave() {
            waves.push({ x: 40, r: 0 });
        }

        function update() {
            // Spawn Rate
            if (mode !== 'WAVE') {
                // Quantum mode fires many particles fast to build pattern
                const rate = mode === 'QUANTUM' ? 0.2 : 0.05; 
                if(Math.random() < rate) fireParticle();
            } else {
                if (Date.now() % 500 < 20) spawnWave(); // Periodic
            }

            // Update Particles
            for(let i=particles.length-1; i>=0; i--) {
                let p = particles[i];
                p.x += p.vx;
                p.y += p.vy;

                // Barrier Interaction
                if (p.x >= barrierX && p.x <= barrierX + p.vx + 2) {
                    // Check Slits
                    const slit1Y = simHeight/2 - slitSep/2;
                    const slit2Y = simHeight/2 + slitSep/2;
                    
                    const inSlit1 = Math.abs(p.y - slit1Y) < slitWidth/2;
                    const inSlit2 = Math.abs(p.y - slit2Y) < slitWidth/2;

                    if (inSlit1 || inSlit2) {
                        // Pass through
                        // QUANTUM LOGIC:
                        if (mode === 'QUANTUM' && !observerOn) {
                            // Interference pattern probability distribution
                            // We alter velocity angle based on a probability function simulating interference
                            // Simplified: Random angle based on sin^2 diffraction pattern logic
                            const maxAngle = Math.PI / 4;
                            // This is a visual hack to create fringes. 
                            // Real physics requires wave summation. 
                            // We distribute VY using a multi-gaussian approximation of interference.
                            
                            // Visual Trick: Bias VY towards fringe bands
                            // Bands at 0, +/- K
                            const band = (Math.random() < 0.5 ? 1 : -1) * Math.floor(Math.random() * 4); 
                            // Add noise
                            const targetAngle = (band * 0.15) + (Math.random()-0.5)*0.05;
                            p.vy = p.vx * Math.tan(targetAngle);
                            
                        } else {
                            // CLASSICAL / OBSERVED
                            // Go straight (maybe slight diffraction spread)
                             p.vy += (Math.random()-0.5) * 1; // Basic diffraction spread
                        }
                        
                        if (observerOn) {
                            // Turn red if observed
                            p.color = '#ef4444';
                        }
                    } else {
                        // Hit wall
                        particles.splice(i, 1);
                        continue;
                    }
                }

                // Screen Impact
                if (p.x >= simWidth - 10) {
                    // Record Hit
                    const binIdx = Math.floor((p.y / simHeight) * BIN_COUNT);
                    if (binIdx >= 0 && binIdx < BIN_COUNT) {
                        intensityBins[binIdx]++;
                    }
                    particles.splice(i, 1);
                }
            }

            // Update Waves (Visual ripples only)
            if (mode === 'WAVE') {
                 waves.forEach((wv, i) => {
                     wv.x += 2; // Source wave moves right
                     // If hits barrier, spawn 2 sub-waves
                     if (wv.x > barrierX && !wv.split) {
                         wv.dead = true;
                         waves.push({ x: barrierX, y: simHeight/2 - slitSep/2, r: 0, type: 'sub' });
                         waves.push({ x: barrierX, y: simHeight/2 + slitSep/2, r: 0, type: 'sub' });
                         wv.split = true;
                     }
                 });
                 waves.forEach(wv => { if(wv.type === 'sub') wv.r += 2; });
                 // Update bins theoretically for Wave Mode
                 // Calculate interference pattern intensity function
                 for(let i=0; i<BIN_COUNT; i++) {
                     const y = (i/BIN_COUNT) * simHeight;
                     // Path difference from two slits
                     const s1 = {x: barrierX, y: simHeight/2 - slitSep/2};
                     const s2 = {x: barrierX, y: simHeight/2 + slitSep/2};
                     const d1 = Math.sqrt(Math.pow(simWidth-s1.x, 2) + Math.pow(y-s1.y, 2));
                     const d2 = Math.sqrt(Math.pow(simWidth-s2.x, 2) + Math.pow(y-s2.y, 2));
                     const delta = d1 - d2;
                     const wavelength = 20; // sim units
                     const intensity = Math.cos((Math.PI * delta) / wavelength); // -1 to 1
                     // Normalize 0 to 1 and add to bin
                     intensityBins[i] = (intensity + 1) * 2; // Artificial fill for visual
                 }
            }
        }

        // --- Render ---
        function draw() {
            // Clear
            sCtx.fillStyle = '#0f172a';
            sCtx.fillRect(0, 0, simWidth, simHeight);

            // Draw Barrier
            sCtx.fillStyle = '#334155';
            sCtx.fillRect(barrierX, 0, 10, simHeight);
            
            // Draw Slit gaps
            const slit1Y = simHeight/2 - slitSep/2;
            const slit2Y = simHeight/2 + slitSep/2;
            sCtx.clearRect(barrierX, slit1Y - slitWidth/2, 10, slitWidth);
            sCtx.clearRect(barrierX, slit2Y - slitWidth/2, 10, slitWidth);
            
            // Draw Detector Screen
            sCtx.fillStyle = '#1e293b';
            sCtx.fillRect(simWidth - 10, 0, 10, simHeight);

            // Observer Eye
            if (observerOn) {
                sCtx.font = "20px serif";
                sCtx.fillText("ðŸ‘ï¸", barrierX - 10, slit1Y - 30);
                sCtx.fillText("ðŸ‘ï¸", barrierX - 10, slit2Y - 30);
            }

            // Draw Particles
            if (mode !== 'WAVE') {
                particles.forEach(p => {
                    sCtx.fillStyle = p.color;
                    sCtx.beginPath();
                    sCtx.arc(p.x, p.y, p.size, 0, Math.PI*2);
                    sCtx.fill();
                });
            } else {
                // Draw Waves
                sCtx.strokeStyle = 'rgba(139, 92, 246, 0.5)';
                sCtx.lineWidth = 2;
                waves.forEach(wv => {
                    if (wv.type === 'sub') {
                        sCtx.beginPath();
                        sCtx.arc(wv.x, wv.y, wv.r, -Math.PI/2, Math.PI/2);
                        sCtx.stroke();
                    } else if (!wv.dead) {
                        // Plane wave
                        sCtx.beginPath();
                        sCtx.moveTo(wv.x, simHeight/2 - 50);
                        sCtx.lineTo(wv.x, simHeight/2 + 50);
                        sCtx.stroke();
                    }
                });
            }

            // Draw Graph
            gCtx.clearRect(0,0, graphCanvas.width, graphCanvas.height);
            // Draw Histogram rotated 90deg effectively (Y axis matches screen Y)
            const maxVal = Math.max(...intensityBins, 1);
            const gw = graphCanvas.width;
            const gh = graphCanvas.height;
            const barH = gh / BIN_COUNT;

            gCtx.fillStyle = mode === 'PARTICLE' || (mode==='QUANTUM' && observerOn) ? '#facc15' : '#a78bfa';
            
            for(let i=0; i<BIN_COUNT; i++) {
                const val = intensityBins[i];
                const barW = (val / maxVal) * gw;
                gCtx.fillRect(0, i * barH, barW, barH + 1);
            }
        }

        // Loop
        function loop() {
            update();
            draw();
            requestAnimationFrame(loop);
        }

        // Init
        setTimeout(resize, 100);
        updateResultText();
        loop();

    </script>
</body>
</html>
