<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXZS8C1FLY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XXZS8C1FLY');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newton's Laws of Motion - EcrioniX Labs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Orbitron:wght@500;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Outfit', sans-serif; background-color: #020617; color: #f8fafc; overflow: hidden; }
        .tech-font { font-family: 'Orbitron', sans-serif; }
        .mono-font { font-family: 'JetBrains Mono', monospace; }

        .watermark {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-30deg);
            font-size: 8rem; font-weight: 900; color: rgba(255, 255, 255, 0.03);
            pointer-events: none; user-select: none; z-index: 0;
        }

        .glass-panel {
            background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px;
        }

        /* Tabs */
        .tab-btn {
            @apply px-4 py-2 text-xs font-bold rounded-lg transition-all border border-transparent text-slate-400;
        }
        .tab-active {
            @apply bg-indigo-600 text-white border-indigo-500 shadow-lg shadow-indigo-500/30;
        }

        /* Simulation Canvas */
        .sim-canvas {
            background-color: #0f172a;
            border-radius: 12px;
            width: 100%; height: 100%;
            position: relative;
            overflow: hidden;
        }
        
        /* Objects */
        .object { position: absolute; transition: transform 0.1s; }
        .vector-arrow { position: absolute; height: 4px; transform-origin: left center; pointer-events: none; }
        
        input[type=range] { accent-color: #6366f1; }
    </style>
</head>
<body class="h-screen w-screen flex flex-col relative">

    <div class="watermark">EcrioniX Physics</div>

    <!-- Header -->
    <nav class="border-b border-slate-800 bg-slate-900/80 px-6 py-4 flex justify-between items-center z-20">
        <div>
            <h1 class="text-2xl font-bold text-indigo-400 tech-font uppercase">Newton's <span class="text-white">Laws</span></h1>
            <p class="text-[10px] text-slate-500 uppercase tracking-widest font-bold">Classical Mechanics Simulation</p>
        </div>
        
        <div class="flex bg-slate-950 p-1 rounded-xl border border-slate-800">
            <button onclick="switchTab(1)" id="tab-1" class="tab-btn tab-active">1st Law (Inertia)</button>
            <button onclick="switchTab(2)" id="tab-2" class="tab-btn">2nd Law (F=ma)</button>
            <button onclick="switchTab(3)" id="tab-3" class="tab-btn">3rd Law (Action/Reaction)</button>
        </div>

        <button onclick="window.history.back()" class="group flex items-center text-slate-400 hover:text-white transition bg-slate-800/80 px-4 py-2 rounded-lg border border-slate-700 hover:border-indigo-500">
            <span class="text-xs font-bold uppercase">Exit Lab</span>
        </button>
    </nav>

    <!-- Main Content -->
    <div class="flex-grow flex p-6 gap-6 z-10 overflow-hidden relative">
        
        <!-- Controls Panel -->
        <div class="w-80 flex flex-col gap-4">
            
            <!-- Dynamic Controls based on Tab -->
            <div class="glass-panel p-6" id="controls-panel">
                <!-- Content injected by JS -->
            </div>

            <!-- Theory Box -->
            <div class="glass-panel p-6 flex-grow overflow-y-auto">
                <h2 class="text-slate-500 font-bold mb-3 uppercase text-[10px] tracking-widest">Theory Guide</h2>
                <div id="theory-content" class="text-xs text-slate-400 leading-relaxed space-y-3">
                    <!-- Content injected by JS -->
                </div>
            </div>
        </div>

        <!-- Simulation Area -->
        <div class="flex-grow glass-panel p-4 relative flex flex-col">
            <div id="sim-container" class="sim-canvas flex items-center justify-center relative">
                <!-- Grid Background -->
                <div class="absolute inset-0 opacity-10" style="background-image: linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px); background-size: 50px 50px;"></div>
                
                <!-- Dynamic Elements Injected Here -->
                <div id="scene-layer" class="absolute inset-0"></div>
                
                <!-- Overlay Data -->
                <div class="absolute top-4 left-4 bg-black/60 p-3 rounded border border-slate-700 font-mono text-xs text-green-400">
                    <div id="hud-val-1">v = 0.0 m/s</div>
                    <div id="hud-val-2">a = 0.0 m/s²</div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- State ---
        let currentTab = 1;
        let animationId;
        
        // Sim Objects
        let obj1 = { x: 50, v: 0, a: 0, m: 10, f: 0 };
        let obj2 = { x: 300, v: 0, m: 50 }; // For 3rd law
        
        // Settings
        let friction = false;
        
        // --- Tab Logic ---
        function switchTab(tab) {
            currentTab = tab;
            // Update UI Tabs
            [1, 2, 3].forEach(i => {
                const btn = document.getElementById(`tab-${i}`);
                if (i === tab) btn.classList.add('tab-active');
                else btn.classList.remove('tab-active');
            });
            
            initSim(tab);
        }

        function initSim(tab) {
            const controls = document.getElementById('controls-panel');
            const theory = document.getElementById('theory-content');
            const scene = document.getElementById('scene-layer');
            
            // Reset Physics
            cancelAnimationFrame(animationId);
            obj1 = { x: 100, v: 0, a: 0, m: 10, f: 0 };
            obj2 = { x: 400, v: 0, m: 50, f: 0 }; 

            scene.innerHTML = ''; // Clear scene

            if (tab === 1) {
                // --- 1st Law: Inertia ---
                controls.innerHTML = `
                    <h2 class="text-indigo-400 font-bold mb-4 uppercase text-[10px] tracking-widest">Inertia Controls</h2>
                    <div class="space-y-4">
                        <button onmousedown="applyThrust(true)" onmouseup="applyThrust(false)" class="w-full py-4 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg active:scale-95 transition">
                            APPLY THRUST
                        </button>
                        <div class="flex items-center justify-between bg-slate-900 p-3 rounded-lg border border-slate-700">
                            <span class="text-xs font-bold text-slate-300">Space Friction</span>
                            <input type="checkbox" id="chk-friction" onchange="toggleFriction(this.checked)" class="w-4 h-4">
                        </div>
                        <button onclick="resetSim()" class="w-full py-2 bg-slate-800 text-slate-400 text-xs font-bold rounded border border-slate-700">RESET</button>
                    </div>
                `;
                theory.innerHTML = `
                    <p><strong class="text-white">Law of Inertia:</strong> An object at rest stays at rest, and an object in motion stays in motion with the same speed and in the same direction unless acted upon by an unbalanced force.</p>
                    <p>In this simulation (Vacuum mode), once you stop applying thrust, the spaceship continues moving forever at constant velocity ($a=0$).</p>
                    <p>Enable <strong>Friction</strong> to introduce an opposing force that eventually stops the object.</p>
                `;
                
                // Add Spaceship
                scene.innerHTML = `
                    <div id="ship" class="absolute top-1/2 left-20 -mt-10 w-20 h-20 transition-transform duration-75">
                        <svg viewBox="0 0 100 100" class="w-full h-full drop-shadow-[0_0_10px_#6366f1]">
                            <path d="M10,40 L90,50 L10,60 Z" fill="#e2e8f0" stroke="#94a3b8" stroke-width="2"/>
                            <path id="flame" d="M10,40 Q-10,50 10,60" fill="#f59e0b" opacity="0"/>
                        </svg>
                    </div>
                `;
                friction = false;
                loop1();
            } 
            else if (tab === 2) {
                // --- 2nd Law: F=ma ---
                controls.innerHTML = `
                    <h2 class="text-indigo-400 font-bold mb-4 uppercase text-[10px] tracking-widest">Variables</h2>
                    <div class="space-y-6">
                        <div>
                            <div class="flex justify-between text-xs mb-1 font-bold text-slate-300">
                                <span>Applied Force (F)</span> <span id="val-force">0 N</span>
                            </div>
                            <input type="range" id="sl-force" min="-50" max="50" value="0" step="1" class="w-full">
                        </div>
                        <div>
                            <div class="flex justify-between text-xs mb-1 font-bold text-slate-300">
                                <span>Mass (m)</span> <span id="val-mass">10 kg</span>
                            </div>
                            <input type="range" id="sl-mass" min="5" max="100" value="10" step="5" class="w-full">
                        </div>
                        <button onclick="resetSim()" class="w-full py-2 bg-slate-800 text-slate-400 text-xs font-bold rounded border border-slate-700">RESET POSITION</button>
                    </div>
                `;
                theory.innerHTML = `
                    <p><strong class="text-white">Law of Acceleration:</strong> The acceleration of an object is directly proportional to the net force acting on it and inversely proportional to its mass.</p>
                    <p class="text-center font-mono bg-slate-900 p-2 rounded text-indigo-300">F = m &times; a  &rarr;  a = F / m</p>
                    <p>Increase Force to speed up faster. Increase Mass to make the object "heavier" and harder to move (more inertia).</p>
                `;
                
                scene.innerHTML = `
                    <div id="cart" class="absolute bottom-20 left-1/2 -ml-10 w-20 h-20 bg-slate-700 rounded border-2 border-slate-500 flex items-center justify-center text-white font-bold text-xl shadow-lg">
                        M
                        <!-- Force Arrow -->
                        <div id="arrow-f" class="absolute top-1/2 -translate-y-1/2 h-1 bg-yellow-500 origin-left transition-all" style="left:100%; width:0px;"></div>
                        <div id="arrow-f-head" class="absolute top-1/2 -translate-y-1/2 border-l-[10px] border-l-yellow-500 border-y-[6px] border-y-transparent hidden" style="left:100%"></div>
                    </div>
                    <div class="absolute bottom-20 w-full h-1 bg-slate-600"></div> <!-- Floor -->
                `;
                
                // Add Listeners
                const sf = document.getElementById('sl-force');
                const sm = document.getElementById('sl-mass');
                sf.oninput = () => { obj1.f = parseInt(sf.value); document.getElementById('val-force').innerText = obj1.f + " N"; };
                sm.oninput = () => { obj1.m = parseInt(sm.value); document.getElementById('val-mass').innerText = obj1.m + " kg"; };
                
                obj1.x = document.getElementById('sim-container').clientWidth / 2; // Center
                loop2();
            }
            else {
                // --- 3rd Law: Action/Reaction ---
                controls.innerHTML = `
                    <h2 class="text-indigo-400 font-bold mb-4 uppercase text-[10px] tracking-widest">Cannon Controls</h2>
                    <div class="space-y-4">
                        <button onclick="fireCannon()" class="w-full py-4 bg-red-600 hover:bg-red-500 text-white font-bold rounded-xl shadow-lg active:scale-95 transition">
                            FIRE CANNON!
                        </button>
                         <div>
                            <div class="flex justify-between text-xs mb-1 font-bold text-slate-300">
                                <span>Cannon Mass</span> <span id="val-m-cannon">100 kg</span>
                            </div>
                            <input type="range" id="sl-m-cannon" min="50" max="200" value="100" class="w-full">
                        </div>
                        <button onclick="resetSim()" class="w-full py-2 bg-slate-800 text-slate-400 text-xs font-bold rounded border border-slate-700">RESET</button>
                    </div>
                `;
                theory.innerHTML = `
                    <p><strong class="text-white">Action-Reaction:</strong> For every action, there is an equal and opposite reaction.</p>
                    <p>When the cannon fires the ball (Action Force), the ball pushes back on the cannon with the exact same force (Reaction Force).</p>
                    <p>Because the cannon is heavier, it accelerates backward (recoils) slower than the ball shoots forward.</p>
                `;

                scene.innerHTML = `
                    <div id="cannon" class="absolute bottom-20 left-40 w-32 h-20">
                        <div class="w-24 h-12 bg-slate-600 rounded-r-lg absolute top-2 left-4"></div> <!-- Barrel -->
                        <div class="w-16 h-16 bg-slate-800 rounded-full border-4 border-slate-600 absolute bottom-0 left-0"></div> <!-- Wheel -->
                    </div>
                    <div id="ball" class="absolute bottom-28 left-64 w-8 h-8 bg-black rounded-full hidden"></div>
                    <div class="absolute bottom-20 w-full h-1 bg-slate-600"></div> <!-- Floor -->
                `;

                // Listeners
                const smc = document.getElementById('sl-m-cannon');
                smc.oninput = () => { obj1.m = parseInt(smc.value); document.getElementById('val-m-cannon').innerText = obj1.m + " kg"; };
                
                obj1 = { x: 100, v: 0, m: 100, f: 0 }; // Cannon
                obj2 = { x: 100 + 80, v: 0, m: 5, f: 0 };   // Ball (Light)
                loop3();
            }
        }

        // --- Logic Loop 1 (Inertia) ---
        function applyThrust(on) {
            obj1.f = on ? 2 : 0;
            document.getElementById('flame').setAttribute('opacity', on ? 1 : 0);
        }
        function toggleFriction(on) {
            friction = on;
        }
        function loop1() {
            if (currentTab !== 1) return;
            
            // a = F/m
            let netF = obj1.f;
            if (friction) netF -= obj1.v * 0.05; // Drag proportional to velocity
            
            obj1.a = netF / 1; // mass 1 unit for vis
            obj1.v += obj1.a;
            obj1.x += obj1.v;

            // Loop screen
            const maxW = document.getElementById('sim-container').clientWidth;
            if (obj1.x > maxW) obj1.x = -50;
            if (obj1.x < -50) obj1.x = maxW;

            const ship = document.getElementById('ship');
            if(ship) ship.style.transform = `translateX(${obj1.x}px)`;

            updateHUD(obj1.v, obj1.a);
            animationId = requestAnimationFrame(loop1);
        }

        // --- Logic Loop 2 (F=ma) ---
        function loop2() {
            if (currentTab !== 2) return;

            // a = F/m
            obj1.a = (obj1.f * 50) / obj1.m; // Scaling factor for vis
            
            // Friction (simple sliding)
            obj1.v += obj1.a;
            obj1.v *= 0.95; // Damping/Friction

            obj1.x += obj1.v;

            // Bounce walls
            const maxW = document.getElementById('sim-container').clientWidth;
            if (obj1.x > maxW - 40 || obj1.x < 40) {
                obj1.v *= -0.5; // Bounce
                obj1.x = Math.max(40, Math.min(maxW-40, obj1.x));
            }

            const cart = document.getElementById('cart');
            const arrowF = document.getElementById('arrow-f');
            const arrowHead = document.getElementById('arrow-f-head');

            if(cart) {
                cart.style.transform = `translateX(${obj1.x - (maxW/2)}px)`; // Centered Logic
                
                // Scale cart visual by mass? Maybe just text update
                cart.style.width = (40 + obj1.m * 0.5) + 'px';
                cart.style.height = (40 + obj1.m * 0.5) + 'px';
                
                // Force Arrow Visual
                if (Math.abs(obj1.f) > 0) {
                    arrowF.style.width = Math.abs(obj1.f * 2) + 'px';
                    arrowF.style.transform = obj1.f > 0 ? "translateY(-50%)" : "translateY(-50%) rotate(180deg)";
                    arrowF.style.left = obj1.f > 0 ? "100%" : "0%";
                    arrowF.style.transformOrigin = obj1.f > 0 ? "left" : "left"; // tricky with div arrows
                    // Easier: Just flip scaleX
                } else {
                    arrowF.style.width = '0px';
                }
            }

            updateHUD(obj1.v, obj1.a);
            animationId = requestAnimationFrame(loop2);
        }

        // --- Logic Loop 3 (Action/Reaction) ---
        function fireCannon() {
            if (currentTab !== 3) return;
            const ball = document.getElementById('ball');
            ball.style.display = 'block';
            
            // Explosion Force
            const FORCE = 200; 
            
            // a = F/m
            // Cannon (obj1) moves left
            obj1.v = -(FORCE / obj1.m);
            
            // Ball (obj2) moves right
            obj2.x = obj1.x + 80;
            obj2.v = (FORCE / obj2.m);
        }

        function loop3() {
            if (currentTab !== 3) return;
            
            obj1.x += obj1.v;
            obj2.x += obj2.v;
            
            // Friction stops them
            obj1.v *= 0.95;
            obj2.v *= 0.99; // Ball flies longer

            const cannon = document.getElementById('cannon');
            const ball = document.getElementById('ball');
            
            if(cannon) cannon.style.left = obj1.x + 'px';
            if(ball) ball.style.left = obj2.x + 'px';

            updateHUD(obj2.v, 0);
            animationId = requestAnimationFrame(loop3);
        }

        function updateHUD(v, a) {
            document.getElementById('hud-val-1').innerText = `v = ${v.toFixed(1)} m/s`;
            document.getElementById('hud-val-2').innerText = `a = ${a.toFixed(2)} m/s²`;
        }

        function resetSim() {
            initSim(currentTab);
        }

        // Start
        initSim(1);

    </script>
</body>
</html>
