<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXZS8C1FLY"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XXZS8C1FLY');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speed vs. Velocity Lab - EcrioniX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Orbitron:wght@500;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <!-- MathJax -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body { font-family: 'Outfit', sans-serif; background-color: #020617; color: #f8fafc; overflow: hidden; }
        .tech-font { font-family: 'Orbitron', sans-serif; }
        .mono-font { font-family: 'JetBrains Mono', monospace; }

        .watermark {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-30deg);
            font-size: 8rem; font-weight: 900; color: rgba(255, 255, 255, 0.03);
            pointer-events: none; user-select: none; z-index: 0;
        }

        .glass-panel {
            background: rgba(15, 23, 42, 0.7); backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 20px;
        }

        /* Tabs */
        .tab-btn {
            @apply px-4 py-2 text-xs font-bold rounded-lg transition-all border border-transparent text-slate-400 uppercase tracking-wider;
        }
        .tab-active {
            @apply bg-indigo-600 text-white border-indigo-500 shadow-lg shadow-indigo-500/30;
        }

        /* Simulation Canvas */
        #sim-canvas {
            background-color: #0f172a;
            border-radius: 12px;
            width: 100%; height: 100%;
        }

        /* Sliders */
        input[type=range] { accent-color: #6366f1; }

        /* Theory Styles */
        .prose h1 { @apply text-3xl font-bold text-white mb-6 tech-font border-b border-slate-800 pb-2; }
        .prose h2 { @apply text-xl font-bold text-indigo-400 mt-8 mb-4 uppercase tracking-wider; }
        .prose p { @apply text-slate-400 mb-4 leading-relaxed; }
        .prose strong { @apply text-white font-semibold; }
        
        .hidden { display: none !important; }
    </style>
</head>
<body class="h-screen w-screen flex flex-col relative">

    <div class="watermark">EcrioniX Physics</div>

    <!-- Header -->
    <nav class="border-b border-slate-800 bg-slate-900/80 px-6 py-4 flex justify-between items-center z-20">
        <div>
            <h1 class="text-2xl font-bold text-indigo-400 tech-font uppercase">Speed vs. <span class="text-white">Velocity</span></h1>
            <p class="text-[10px] text-slate-500 uppercase tracking-widest font-bold">Kinematics Simulation</p>
        </div>
        
        <div class="flex bg-slate-950 p-1 rounded-xl border border-slate-800">
            <button onclick="switchView('theory')" id="btn-theory" class="tab-btn tab-active">Theory</button>
            <button onclick="switchView('lab')" id="btn-lab" class="tab-btn">Experiment</button>
        </div>

        <button onclick="window.history.back()" class="group flex items-center text-slate-400 hover:text-white transition bg-slate-800/80 px-4 py-2 rounded-lg border border-slate-700 hover:border-indigo-500">
            <span class="text-xs font-bold uppercase">Exit Lab</span>
        </button>
    </nav>

    <!-- Content Area -->
    <div class="flex-grow relative overflow-hidden">
        
        <!-- THEORY VIEW -->
        <div id="view-theory" class="absolute inset-0 z-10 overflow-y-auto p-8 flex justify-center">
            <div class="max-w-4xl w-full glass-panel p-10 prose">
                <h1>Understanding Motion</h1>
                <p>
                    In physics, the terms <strong>speed</strong> and <strong>velocity</strong> are often used interchangeably in everyday language, but they have distinct scientific meanings.
                </p>

                <h2>1. Speed</h2>
                <p><strong>Definition:</strong> The rate at which an object covers distance.</p>
                <ul>
                    <li><strong>Type:</strong> Scalar quantity (magnitude only).</li>
                    <li><strong>Formula:</strong> \( \text{Speed} = \frac{\text{Distance}}{\text{Time}} \)</li>
                    <li><strong>Example:</strong> A car moving at 60 mph.</li>
                </ul>

                <h2>2. Velocity</h2>
                <p><strong>Definition:</strong> The rate at which an object changes its position.</p>
                <ul>
                    <li><strong>Type:</strong> Vector quantity (magnitude and direction).</li>
                    <li><strong>Formula:</strong> \( \text{Velocity} = \frac{\text{Displacement}}{\text{Time}} \)</li>
                    <li><strong>Example:</strong> A car moving at 60 mph <em>North</em>.</li>
                </ul>

                <h2>3. Key Difference</h2>
                <div class="bg-indigo-500/10 border-l-4 border-indigo-500 p-4 my-4">
                    <p class="text-slate-300">
                        If you run a complete lap around a track and return to the start line:
                        <br>Your <strong>Speed</strong> is high (you covered distance).
                        <br>Your <strong>Velocity</strong> is zero (your displacement is zero).
                    </p>
                </div>
                
                <div class="mt-8 text-center">
                    <button onclick="switchView('lab')" class="bg-indigo-600 hover:bg-indigo-500 text-white px-8 py-3 rounded-xl font-bold transition">Start Simulation &rarr;</button>
                </div>
            </div>
        </div>

        <!-- LAB VIEW -->
        <div id="view-lab" class="absolute inset-0 z-0 opacity-0 pointer-events-none flex p-6 gap-6">
            
            <!-- Left Controls -->
            <div class="w-80 flex flex-col gap-4 overflow-y-auto pr-2">
                <div class="glass-panel p-6">
                    <h2 class="text-indigo-400 font-bold mb-4 uppercase text-[10px] tracking-widest">Controls</h2>
                    
                    <div class="space-y-6">
                        <!-- Speed Control -->
                        <div>
                            <div class="flex justify-between text-xs mb-2">
                                <span class="text-slate-300">Target Speed</span>
                                <span id="val-speed-input" class="font-mono text-white font-bold">0 m/s</span>
                            </div>
                            <input type="range" id="slider-speed" min="0" max="50" value="0" class="w-full">
                        </div>

                        <!-- Direction Control -->
                        <div>
                            <span class="text-xs text-slate-300 block mb-2">Direction</span>
                            <div class="flex gap-2">
                                <button onclick="setDirection(-1)" class="flex-1 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded font-mono border border-slate-600">&larr; West</button>
                                <button onclick="setDirection(0)" class="flex-1 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded font-mono border border-slate-600">Stop</button>
                                <button onclick="setDirection(1)" class="flex-1 py-2 bg-slate-800 hover:bg-slate-700 text-white rounded font-mono border border-slate-600">East &rarr;</button>
                            </div>
                        </div>

                        <button onclick="resetSimulation()" class="w-full py-2 bg-red-600/20 text-red-400 border border-red-500/50 rounded font-bold text-xs hover:bg-red-600/30 transition">RESET POSITION</button>
                    </div>
                </div>

                <div class="glass-panel p-6 flex-grow flex flex-col">
                    <h2 class="text-emerald-400 font-bold mb-4 uppercase text-[10px] tracking-widest">Live Metrics</h2>
                    <div class="space-y-3">
                        <div class="bg-black/40 p-3 rounded border border-slate-800 flex justify-between items-center">
                            <span class="text-xs text-slate-400">Time Elapsed</span>
                            <span id="val-time" class="text-white font-bold mono-font">0.0 s</span>
                        </div>
                        <div class="bg-black/40 p-3 rounded border border-slate-800 flex justify-between items-center">
                            <span class="text-xs text-slate-400">Total Distance</span>
                            <span id="val-distance" class="text-yellow-400 font-bold mono-font">0.0 m</span>
                        </div>
                        <div class="bg-black/40 p-3 rounded border border-slate-800 flex justify-between items-center">
                            <span class="text-xs text-slate-400">Displacement</span>
                            <span id="val-displacement" class="text-emerald-400 font-bold mono-font">0.0 m</span>
                        </div>
                        <div class="bg-black/40 p-3 rounded border border-slate-800 flex justify-between items-center">
                            <span class="text-xs text-slate-400">Avg Speed</span>
                            <span id="val-avg-speed" class="text-blue-400 font-bold mono-font">0.0 m/s</span>
                        </div>
                         <div class="bg-black/40 p-3 rounded border border-slate-800 flex justify-between items-center">
                            <span class="text-xs text-slate-400">Avg Velocity</span>
                            <span id="val-avg-vel" class="text-purple-400 font-bold mono-font">0.0 m/s</span>
                        </div>
                    </div>
                </div>

                <!-- Lab Journal -->
                <div class="glass-panel p-4 h-48 flex flex-col overflow-hidden">
                    <h2 class="text-slate-500 font-bold mb-2 uppercase text-[10px] tracking-widest">Lab Journal</h2>
                    <div class="flex-grow overflow-y-auto bg-black/20 rounded border border-slate-800">
                        <table class="w-full text-[10px] text-left">
                            <thead class="bg-slate-800 text-slate-400 sticky top-0">
                                <tr>
                                    <th class="p-2">Time</th>
                                    <th class="p-2">Dist</th>
                                    <th class="p-2">Disp</th>
                                </tr>
                            </thead>
                            <tbody id="data-table" class="text-slate-300 divide-y divide-slate-800"></tbody>
                        </table>
                    </div>
                     <button onclick="logData()" class="mt-2 w-full py-2 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded shadow-lg transition transform active:scale-95 text-xs">
                        LOG DATA
                    </button>
                </div>
            </div>

            <!-- Main Canvas Area -->
            <div class="flex-grow flex flex-col gap-6">
                <!-- Experiment View -->
                <div class="glass-panel p-1 relative flex-grow overflow-hidden bg-slate-900/50">
                     <canvas id="sim-canvas"></canvas>
                     <div class="absolute bottom-4 left-4 text-[10px] text-slate-500 font-bold uppercase tracking-widest bg-black/50 px-2 py-1 rounded">Simulation View</div>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- State ---
        let carX = 50; // Initial X position
        let carSpeed = 0; // Current speed magnitude
        let carDirection = 0; // 0=Stop, 1=East, -1=West
        
        let totalDistance = 0;
        let startX = 50;
        let startTime = 0;
        let elapsedTime = 0;
        let isRunning = false;

        // Canvas
        const cvs = document.getElementById('sim-canvas');
        const ctx = cvs.getContext('2d');

        // UI Elements
        const slSpeed = document.getElementById('slider-speed');
        const valSpeedInput = document.getElementById('val-speed-input');
        const dataTable = document.getElementById('data-table');

        // --- View Switching ---
        function switchView(v) {
            const theory = document.getElementById('view-theory');
            const lab = document.getElementById('view-lab');
            const btnT = document.getElementById('btn-theory');
            const btnL = document.getElementById('btn-lab');

            if (v === 'theory') {
                theory.classList.remove('opacity-0', 'pointer-events-none'); theory.classList.add('z-10');
                lab.classList.add('opacity-0', 'pointer-events-none'); lab.classList.remove('z-10');
                btnT.classList.add('tab-active'); btnL.classList.remove('tab-active');
            } else {
                lab.classList.remove('opacity-0', 'pointer-events-none'); lab.classList.add('z-10');
                theory.classList.add('opacity-0', 'pointer-events-none'); theory.classList.remove('z-10');
                btnL.classList.add('tab-active'); btnT.classList.remove('tab-active');
                resize();
            }
        }

        // --- Simulation Logic ---
        slSpeed.addEventListener('input', (e) => {
            carSpeed = parseInt(e.target.value);
            valSpeedInput.innerText = carSpeed + " m/s";
            if(carSpeed > 0 && !isRunning && carDirection !== 0) {
                // start sim if direction set
                 // handled in loop
            }
        });

        function setDirection(dir) {
            carDirection = dir;
            if (dir !== 0 && !isRunning && carSpeed > 0) {
                isRunning = true;
                // startTime handled in loop relative delta
            }
        }
        
        function resetSimulation() {
            carX = 50;
            startX = 50;
            totalDistance = 0;
            elapsedTime = 0;
            carDirection = 0;
            carSpeed = 0;
            slSpeed.value = 0;
            valSpeedInput.innerText = "0 m/s";
            isRunning = false;
            
            // Clear Log
            dataTable.innerHTML = "";
            
            updateMetrics();
            draw();
        }

        function updateMetrics() {
            const displacement = (carX - startX); // 1 px = 1 meter for simplicity
            
            // Avg Speed = Total Dist / Total Time
            // Avg Vel = Displacement / Total Time
            
            const avgSpeed = elapsedTime > 0 ? (totalDistance / elapsedTime) : 0;
            const avgVel = elapsedTime > 0 ? (displacement / elapsedTime) : 0;

            document.getElementById('val-time').innerText = elapsedTime.toFixed(1) + " s";
            document.getElementById('val-distance').innerText = totalDistance.toFixed(1) + " m";
            document.getElementById('val-displacement').innerText = displacement.toFixed(1) + " m";
            document.getElementById('val-avg-speed').innerText = avgSpeed.toFixed(1) + " m/s";
            document.getElementById('val-avg-vel').innerText = avgVel.toFixed(1) + " m/s";
        }
        
        function logData() {
             const displacement = (carX - startX);
             const row = document.createElement('tr');
             row.innerHTML = `<td class="p-2">${elapsedTime.toFixed(1)}s</td><td class="p-2 text-yellow-400">${totalDistance.toFixed(1)}m</td><td class="p-2 text-emerald-400">${displacement.toFixed(1)}m</td>`;
             dataTable.prepend(row);
        }

        function resize() {
            if(cvs.parentElement) {
                cvs.width = cvs.parentElement.clientWidth;
                cvs.height = cvs.parentElement.clientHeight;
            }
            draw();
        }
        window.addEventListener('resize', resize);


        // --- Render Loop ---
        let lastTimestamp = 0;

        function loop(timestamp) {
            if (!lastTimestamp) lastTimestamp = timestamp;
            const dt = (timestamp - lastTimestamp) / 1000; // seconds
            lastTimestamp = timestamp;

            if (isRunning && carDirection !== 0 && carSpeed > 0) {
                elapsedTime += dt;
                
                const moveDist = carSpeed * dt * 5; // Scaling factor for pixels
                
                // Update Pos
                const prevX = carX;
                carX += moveDist * carDirection;
                
                // Update Distance (Scalar, always positive addition)
                totalDistance += moveDist; 
                
                // Bounds check wrap? or stop? Let's bounce or stop
                if (carX > cvs.width - 40) { carX = cvs.width - 40; setDirection(0); }
                if (carX < 40) { carX = 40; setDirection(0); }
                
                updateMetrics();
            }

            draw();
            requestAnimationFrame(loop);
        }

        function draw() {
            ctx.clearRect(0, 0, cvs.width, cvs.height);
            
            const centerY = cvs.height / 2;

            // Draw Track
            ctx.fillStyle = '#1e293b';
            ctx.fillRect(0, centerY + 20, cvs.width, 100);
            
            // Road Markings
            ctx.strokeStyle = '#475569';
            ctx.setLineDash([20, 20]);
            ctx.beginPath();
            ctx.moveTo(0, centerY + 70);
            ctx.lineTo(cvs.width, centerY + 70);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Start Line
            ctx.strokeStyle = '#fbbf24';
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(startX, centerY + 20);
            ctx.lineTo(startX, centerY + 120);
            ctx.stroke();
            
            // Start Label
            ctx.fillStyle = '#fbbf24';
            ctx.font = '12px monospace';
            ctx.fillText("START (0)", startX - 20, centerY + 15);

            // Current Position Line (Ghost)
            ctx.strokeStyle = 'rgba(255,255,255,0.1)';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(carX, centerY + 20);
            ctx.lineTo(carX, centerY + 120);
            ctx.stroke();

            // Draw Car
            const carW = 60;
            const carH = 30;
            const carY = centerY + 35; // Center vertically in top lane
            
            // Car Body
            ctx.fillStyle = '#6366f1'; // Indigo
            ctx.shadowColor = '#6366f1';
            ctx.shadowBlur = 10;
            
            // Flip car based on direction?
            // Simple rectangle car
            ctx.fillRect(carX - carW/2, carY, carW, carH);
            ctx.shadowBlur = 0;
            
            // Wheels
            ctx.fillStyle = '#000';
            ctx.beginPath();
            ctx.arc(carX - 20, carY + carH, 8, 0, Math.PI*2);
            ctx.arc(carX + 20, carY + carH, 8, 0, Math.PI*2);
            ctx.fill();
            
            // Vector Arrow (Velocity)
            if (carDirection !== 0 && carSpeed > 0) {
                const arrowLen = carSpeed * 3; // Scale
                const arrowY = carY - 20;
                
                ctx.strokeStyle = '#4ade80'; // Green for Velocity
                ctx.lineWidth = 4;
                ctx.beginPath();
                ctx.moveTo(carX, arrowY);
                ctx.lineTo(carX + (arrowLen * carDirection), arrowY);
                ctx.stroke();
                
                // Arrowhead
                ctx.fillStyle = '#4ade80';
                ctx.beginPath();
                if (carDirection > 0) {
                    ctx.moveTo(carX + arrowLen, arrowY);
                    ctx.lineTo(carX + arrowLen - 10, arrowY - 5);
                    ctx.lineTo(carX + arrowLen - 10, arrowY + 5);
                } else {
                    ctx.moveTo(carX - arrowLen, arrowY);
                    ctx.lineTo(carX - arrowLen + 10, arrowY - 5);
                    ctx.lineTo(carX - arrowLen + 10, arrowY + 5);
                }
                ctx.fill();
                
                ctx.fillStyle = '#4ade80';
                ctx.font = '12px monospace';
                ctx.textAlign = 'center';
                ctx.fillText(`v = ${carSpeed} m/s`, carX, arrowY - 10);
            }
            
            // Displacement Vector (From Start)
            // Draw below road
            const dispY = centerY + 140;
            const disp = carX - startX;
            if (Math.abs(disp) > 1) {
                ctx.strokeStyle = '#a78bfa'; // Purple for Displacement
                ctx.lineWidth = 2;
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                ctx.moveTo(startX, dispY);
                ctx.lineTo(carX, dispY);
                ctx.stroke();
                ctx.setLineDash([]);
                
                // Label
                ctx.fillStyle = '#a78bfa';
                ctx.textAlign = 'center';
                ctx.fillText(`Î”x = ${Math.round((carX-startX)/5)} m`, (startX + carX)/2, dispY + 15);
            }
        }

        // Start Loop
        requestAnimationFrame(loop);

    </script>
</body>
</html>
